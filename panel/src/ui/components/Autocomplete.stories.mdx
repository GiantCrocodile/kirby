import { Meta, Preview, Story, Props } from '@storybook/addon-docs/blocks';
import { action } from "@storybook/addon-actions";
import Padding from "../storybook/Padding.js";
import Autocomplete from "./Autocomplete.vue";

<Meta
  title="UI | Interaction / Autocomplete"
  component={Autocomplete}
  decorators={[Padding]}
/>

# Autocomplete
### `<k-autocomplete>`

The Autocomplete component can be wrapped around any form of input to get an flexible starting point to provide an real-time autocomplete dropdown. We use it for our TagsInput component.

<Preview>
  <Story name="Example">
    {{
      computed: {
        options() {
          return [
            { value: "css", text: "CSS" },
            { value: "html", text: "HTML" },
            { value: "js", text: "Javascript" },
            { value: "php", text: "PHP" },
            { value: "vue", text: "Vue.js" },
          ];
        },
        styles() {
          return {
            border: "1px solid #ddd",
            background: "#fff",
            padding: ".5rem"
          };
        }
      },
      methods: {
        close: action("close"),
        open: action("open"),
        search: action("search"),
        select: action("select"),
      },
      template: `
        <k-autocomplete
          ref="autocomplete"
          :options="options"
          @close="close"
          @search="search"
          @select="select"
          @open="open"
        >
          <k-text-input
            :style="styles"
            @input="$refs.autocomplete.search($event)"
          />
        </k-autocomplete>
      `
    }}
  </Story>
</Preview>


<Props of={Autocomplete} />

## Methods

**`search(query)`**  
Opens the dropdown and filters the options

**`close()`**  
Closes the autocomplete dropdown if it's currently open

## CSS class

`.k-autocomplete`
