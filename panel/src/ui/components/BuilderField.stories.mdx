import { Meta, Preview, Story, Props } from '@storybook/addon-docs/blocks';
import Padding from "../storybook/Padding.js";
import BuilderField from "./BuilderField.vue";


<Meta
  title="UI | Form / Field / Builder Field"
  component={BuilderField}
  decorators={[Padding]}
/>

# Builder Field
### `<k-builder-field>`

<Preview>
  <Story name="Simple">
    {{
      data() {
        return {
          value: [
            {
              type: "headline",
              value: {
                headline: "Welcome to the Builder Field!"
              }
            },
            {
              type: "text",
              value: {}
            }
          ],
        };
      },
      computed: {
        fieldsets() {
          return {
            headline: {
              name: "Headline",
              label: "Headline: \"{{ headline }}\"",
              fields: {
                headline: {
                  label: "Headline",
                  type: "text"
                }
              }
            },
            text: {
              name: "Text block",
              fields: {
                text: {
                  label: "Content",
                  type: "textarea"
                }
              }
            },
            related: {
              name: "Related content",
              fields: {
                categories: {
                  label: "Categories",
                  type: "multiselect",
                  options: [
                    { value: "study", text: "Study" },
                    { value: "research", text: "Research" },
                    { value: "news", text: "News" }
                  ],
                  width: "1/2"
                },
                max: {
                  label: "Maximum items",
                  type: "number",
                  min: 0,
                  max: 10,
                  default: 4,
                  width: "1/2"
                }
              }
            }
          };
        }
      },
      template: `
        <div>
          <k-builder-field
            :fieldsets="fieldsets"
            :value="value"
            label="Builder" 
            class="mb-8"
          />
          <k-headline class="mb-3">Value</k-headline>
          <k-code-block :code="value" />
        </div>
      `,
    }}
  </Story>
</Preview>

<Props of={BuilderField} />
