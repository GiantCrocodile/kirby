import { Meta, Preview, Story, Props } from '@storybook/addon-docs/blocks';
import { action } from "@storybook/addon-actions";
import Padding from "../storybook/Padding.js";
import items from "../storybook/Items.js";
import Collection from "./Collection.vue";

<Meta
  title="UI | Data / Collection"
  component={Collection}
  decorators={[Padding]}
/>

# Collection
### `<k-collection>`


```html
<k-collection
  :items="items"
  :pagination="pagination"
  :sortable="true"
/>
```

<Props of={Collection} />

### List
<Preview>
  <Story name="List">
    {{
      data() {
        return {
          start: 1,
          pagination: {
            total: 230,
            limit: 10
          }
        };
      },
      computed: {
        items() {
          return items(10, this.start);
        }
      },
      methods: {
        onPaginate(pagination) {
          action("paginate")(pagination);
          this.start = pagination.start;
        }
      },
      template: `
        <k-collection
          :items="items"
          :pagination="pagination"
          :sortable="true"
          @paginate="onPaginate"
        />
      `
    }}
  </Story>
</Preview>

### List empty
<Preview>
  <Story name="List empty">
    {{
      methods: {
        onEmpty: action("empty")
      },
      template: `
        <k-collection @empty="onEmpty" />
      `
    }}
  </Story>
</Preview>

### List custom empty
<Preview>
  <Story name="List custom empty">
    {{
      methods: {
        onEmpty: action("empty")
      },
      template: `
        <k-collection
          :empty="{
            icon: 'add',
            text: 'Add the first item …'
          }"
          @empty="onEmpty"
        />
      `
    }}
  </Story>
</Preview>

### List loading
<Preview>
  <Story name="List loading">
    {{
      computed: {
        items() {
          return items(10);
        }
      },
      template: `
        <k-collection
          :items="items"
          :loading="true"
          :pagination="{ total: 230 }"
        />
      `
    }}
  </Story>
</Preview>

### List loading with limit
<Preview>
  <Story name="List loading with limit">
    {{
      computed: {
        items() {
          return items(10);
        }
      },
      template: `
        <k-collection
          :items="items"
          :loader="{ limit: 5 }"
          :loading="true"
          :pagination="{ total: 230 }"
        />
      `
    }}
  </Story>
</Preview>

### List loading with info
<Preview>
  <Story name="List loading with info">
    {{
      computed: {
        items() {
          return items(10);
        }
      },
      template: `
        <k-collection
          :items="items"
          :loader="{ info: true }"
          :loading="true"
          :pagination="{ total: 230 }"
        />
      `
    }}
  </Story>
</Preview>

### Cardlets
<Preview>
  <Story name="Cardlets">
    {{
      data() {
        return {
          start: 1,
          pagination: {
            total: 230,
            limit: 10
          }
        };
      },
      computed: {
        items() {
          return items(10, this.start);
        }
      },
      methods: {
        onPaginate(pagination) {
          action("paginate")(pagination);
          this.start = pagination.start;
        }
      },
      template: `
        <k-collection
          :items="items"
          :pagination="pagination"
          :sortable="true"
          layout="cardlet"
          @paginate="onPaginate"
        />
      `
    }}
  </Story>
</Preview>

### Cardlets empty
<Preview>
  <Story name="Cardlets empty">
    {{
      methods: {
        onEmpty: action("empty")
      },
      template: `
        <k-collection
          layout="cardlets"
          @empty="onEmpty"
        />
      `
    }}
  </Story>
</Preview>

### Cardlets custom empty
<Preview>
  <Story name="Cardlets custom empty">
    {{
      methods: {
        onEmpty: action("empty")
      },
      template: `
        <k-collection
          :empty="{
            icon: 'add',
            text: 'Add the first item …'
          }"
          layout="cardlets"
          @empty="onEmpty"
        />
      `
    }}
  </Story>
</Preview>

### Cardlets loading
<Preview>
  <Story name="Cardlets loading">
    {{
      computed: {
        items() {
          return items(10);
        }
      },
      template: `
        <k-collection
          :items="items"
          :loading="true"
          :pagination="{ total: 230 }"
          layout="cardlets"
        />
      `
    }}
  </Story>
</Preview>

### Cardlets loading with limit
<Preview>
  <Story name="Cardlets loading with limit">
    {{
      computed: {
        items() {
          return items(10);
        }
      },
      template: `
        <k-collection
          :items="items"
          :loader="{ limit: 5 }"
          :loading="true"
          :pagination="{ total: 230 }"
          layout="cardlets"
        />
      `
    }}
  </Story>
</Preview>

### Cardlets loading with info
<Preview>
  <Story name="Cardlets loading with info">
    {{
      computed: {
        items() {
          return items(10);
        }
      },
      template: `
        <k-collection
          :items="items"
          :loader="{ info: true }"
          :loading="true"
          :pagination="{ total: 230 }"
          layout="cardlets"
        />
      `
    }}
  </Story>
</Preview>

### Cards
<Preview>
  <Story name="Cards">
    {{
      data() {
        return {
          start: 1,
          pagination: {
            total: 230,
            limit: 10
          }
        };
      },
      computed: {
        items() {
          return items(10, this.start);
        }
      },
      methods: {
        onPaginate(pagination) {
          action("paginate")(pagination);
          this.start = pagination.start;
        }
      },
      template: `
        <k-collection
          :items="items"
          :pagination="pagination"
          :sortable="true"
          layout="card"
          @paginate="onPaginate"
        />
      `
    }}
  </Story>
</Preview>

### Cards with image settings
<Preview>
  <Story name="Cards with image settings">
    {{
      data() {
        return {
          start: 1,
          pagination: {
            total: 230,
            limit: 10
          }
        };
      },
      computed: {
        items() {
          return items(10, this.start);
        }
      },
      methods: {
        onPaginate(pagination) {
          action("paginate")(pagination);
          this.start = pagination.start;
        }
      },
      template: `
        <k-collection
          :image="{
            ratio: '3/2',
            back: 'pattern',
            cover: true
          }"
          :items="items"
          :pagination="pagination"
          :sortable="true"
          layout="card"
          @paginate="onPaginate"
        />
      `
    }}
  </Story>
</Preview>

### Cards empty
<Preview>
  <Story name="Cards empty">
    {{
      methods: {
        onEmpty: action("empty")
      },
      template: `
        <k-collection
          layout="cards"
          @empty="onEmpty"
        />
      `
    }}
  </Story>
</Preview>

### Cards custom empty
<Preview>
  <Story name="Cards custom empty">
    {{
      methods: {
        onEmpty: action("empty")
      },
      template: `
        <k-collection
          :empty="{
            icon: 'add',
            text: 'Add the first item …'
          }"
          layout="cards"
          @empty="onEmpty"
        />
      `
    }}
  </Story>
</Preview>

### Cards loading
<Preview>
  <Story name="Cards loading">
    {{
      computed: {
        items() {
          return items(10);
        }
      },
      template: `
        <k-collection
          :items="items"
          :loading="true"
          :pagination="{ total: 230 }"
          layout="cards"
        />
      `
    }}
  </Story>
</Preview>

### Cards loading with limit
<Preview>
  <Story name="Cards loading with limit">
    {{
      computed: {
        items() {
          return items(10);
        }
      },
      template: `
        <k-collection
          :items="items"
          :loader="{ limit: 5 }"
          :loading="true"
          :pagination="{ total: 230 }"
          layout="cards"
        />
      `
    }}
  </Story>
</Preview>

### Cards loading with info
<Preview>
  <Story name="Cards loading with info">
    {{
      computed: {
        items() {
          return items(10);
        }
      },
      template: `
        <k-collection
          :items="items"
          :loader="{ info: true }"
          :loading="true"
          :pagination="{ total: 230 }"
          layout="cards"
        />
      `
    }}
  </Story>
</Preview>

## CSS class

`.k-collection`
