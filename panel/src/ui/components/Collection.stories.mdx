import { Meta, Preview, Story, Props } from '@storybook/addon-docs/blocks';
import Padding from "../storybook/Padding.js";
import Collection from "./Collection.vue";
import { action } from "@storybook/addon-actions";

<Meta
  title="UI | Data / Collection"
  component={Collection}
  decorators={[Padding]}
/>

# Collection
### `<k-collection>`


```html
<k-collection
  :items="items"
  :pagination="pagination"
  :sortable="true"
/>
```

<Props of={Collection} />

### List
<Preview>
  <Story name="List">
    {{
      data() {
        return {
          start: 1,
          pagination: {
            total: 230,
            limit: 10
          }
        };
      },
      computed: {
        items() {
          return [...Array(10).keys()].map(item => {
            return {
              title: "List item no. " + (item + this.start),
              info: "List item info",
              link: "https://getkirby.com",
              image: {
                url: "https://source.unsplash.com/user/erondu/1600x900?" + (item + this.start)
              },
              options: [
                { icon: "edit", text: "Edit", click: "edit" },
                { icon: "trash", text: "Delete", click: "delete" }
              ]
            };
          });
        }
      },
      methods: {
        onPaginate(pagination) {
          action("paginate")(pagination);
          this.start = pagination.start;
        }
      },
      template: `
        <k-collection
          :items="items"
          :pagination="pagination"
          :sortable="true"
          @paginate="onPaginate"
        />
      `
    }}
  </Story>
</Preview>

### Cardlets
<Preview>
  <Story name="Cardlets">
    {{
      data() {
        return {
          start: 1,
          pagination: {
            total: 230,
            limit: 10
          }
        };
      },
      computed: {
        items() {
          return [...Array(10).keys()].map(item => {
            return {
              title: "List item no. " + (item + this.start),
              info: "List item info",
              link: "https://getkirby.com",
              image: {
                url: "https://source.unsplash.com/user/erondu/1600x900?" + (item + this.start)
              },
              options: [
                { icon: "edit", text: "Edit", click: "edit" },
                { icon: "trash", text: "Delete", click: "delete" }
              ]
            };
          });
        }
      },
      methods: {
        onPaginate(pagination) {
          action("paginate")(pagination);
          this.start = pagination.start;
        }
      },
      template: `
        <k-collection
          :items="items"
          :pagination="pagination"
          :sortable="true"
          layout="cardlet"
          @paginate="onPaginate"
        />
      `
    }}
  </Story>
</Preview>

### Cards
<Preview>
  <Story name="Cards">
    {{
      data() {
        return {
          start: 1,
          pagination: {
            total: 230,
            limit: 10
          }
        };
      },
      computed: {
        items() {
          return [...Array(10).keys()].map(item => {
            return {
              title: "List item no. " + (item + this.start),
              info: "List item info",
              link: "https://getkirby.com",
              image: {
                url: "https://source.unsplash.com/user/erondu/1600x900?" + (item + this.start)
              },
              options: [
                { icon: "edit", text: "Edit", click: "edit" },
                { icon: "trash", text: "Delete", click: "delete" }
              ]
            };
          });
        }
      },
      methods: {
        onPaginate(pagination) {
          action("paginate")(pagination);
          this.start = pagination.start;
        }
      },
      template: `
        <k-collection
          :items="items"
          :pagination="pagination"
          :sortable="true"
          layout="card"
          @paginate="onPaginate"
        />
      `
    }}
  </Story>
</Preview>


## CSS class

`.k-collection`
